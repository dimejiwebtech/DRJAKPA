{% if messages %}
<div
  id="toast-container"
  class="fixed top-20 right-4 z-50 flex flex-col gap-3 max-w-sm"
>
  {% for message in messages %}
  <div
    class="toast-message flex items-start gap-3 p-4 rounded-xl shadow-lg border backdrop-blur-sm {% if message.tags == 'error' %}bg-red-50/95 border-red-200 text-red-800{% elif message.tags == 'success' %}bg-green-50/95 border-green-200 text-green-800{% elif message.tags == 'warning' %}bg-amber-50/95 border-amber-200 text-amber-800{% else %}bg-blue-50/95 border-blue-200 text-blue-800{% endif %}"
    style="animation: slideInRight 0.3s ease-out forwards"
  >
    <div class="flex-shrink-0 mt-0.5">
      {% if message.tags == 'error' %}
      <i class="fas fa-exclamation-circle text-red-500"></i>
      {% elif message.tags == 'success' %}
      <i class="fas fa-check-circle text-green-500"></i>
      {% elif message.tags == 'warning' %}
      <i class="fas fa-exclamation-triangle text-amber-500"></i>
      {% else %}
      <i class="fas fa-info-circle text-blue-500"></i>
      {% endif %}
    </div>
    <div class="flex-grow text-sm font-medium">{{ message }}</div>
    <button
      onclick="dismissToast(this.parentElement)"
      class="flex-shrink-0 text-slate-400 hover:text-slate-600 transition-colors"
    >
      <i class="fas fa-times"></i>
    </button>
  </div>
  {% endfor %}
</div>

<style>
  @keyframes slideInRight {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
  @keyframes slideOutRight {
    from {
      transform: translateX(0);
      opacity: 1;
    }
    to {
      transform: translateX(100%);
      opacity: 0;
    }
  }
</style>

<script>
  function dismissToast(el) {
    el.style.animation = 'slideOutRight 0.3s ease-in forwards';
    setTimeout(() => el.remove(), 300);
  }

  // Auto-dismiss after 5 seconds
  document.querySelectorAll('.toast-message').forEach((toast) => {
    setTimeout(() => dismissToast(toast), 5000);
  });
</script>
{% endif %}
